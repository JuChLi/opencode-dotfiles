# Refactor Checklist

## Pre-flight

- [ ] 這次工作是既有程式碼重構，不是新功能開發。
- [ ] 需求不包含業務行為變更；若包含，已拆分任務。
- [ ] 有明確範圍與 out-of-scope。

## ANALYZE

- [ ] 已完成邊界盤點（入口/出口/依賴）。
- [ ] 已列出高風險路徑。
- [ ] 已定義本輪只解決的結構問題。

## PRESERVE

- [ ] 現有測試基線已保存。
- [ ] 受影響路徑已有 characterization tests。
- [ ] 必要輸出有 baseline（可比對）。
- [ ] 測試無 flaky。

## IMPROVE

- [ ] 每次改動都很小且可回退。
- [ ] 每步驟後都有驗證命令與結果。
- [ ] 任一失敗都能快速還原。

## Exit

- [ ] 所有 baseline 驗證通過。
- [ ] 輸出契約五份文件完整。
- [ ] 已列出下一輪可安全切入的 slice。
